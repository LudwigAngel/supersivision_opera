<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SICPO - Sistema Completo Funcional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-blue-800 border-gray-200">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <div class="flex items-center space-x-3">
                <i class="fas fa-clipboard-check text-white text-2xl"></i>
                <span class="self-center text-2xl font-semibold whitespace-nowrap text-white">SICPO</span>
            </div>
            <div class="flex items-center space-x-4">
                <span class="text-white text-sm">Usuario: Admin</span>
                <button class="text-white hover:text-gray-300">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-md h-screen sticky top-0">
            <div class="p-4">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Módulos SICPO</h3>
                <ul class="space-y-2">
                    <li>
                        <button onclick="showModule('recepcion')" id="btn-recepcion"
                            class="w-full text-left px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                            <i class="fas fa-inbox mr-2"></i>Recepción Documental
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('distribucion')" id="btn-distribucion"
                            class="w-full text-left px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                            <i class="fas fa-share-alt mr-2"></i>Distribución
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('supervision')" id="btn-supervision"
                            class="w-full text-left px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                            <i class="fas fa-eye mr-2"></i>Supervisión
                        </button>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <div id="content-area">
                <div class="text-center py-8">
                    <h3 class="text-xl font-semibold text-blue-800 mb-2">Sistema SICPO Funcional</h3>
                    <p class="text-blue-700 mb-4">Selecciona un módulo para comenzar</p>
                </div>
            </div>
        </main>
    </div>   
 <script>
        // SICPO Application JavaScript
        class SICPOApp {
            constructor() {
                this.currentModule = null;
                this.init();
            }

            init() {
                console.log('SICPO App initialized');
            }

            showModule(moduleName) {
                this.currentModule = moduleName;
                const contentArea = document.getElementById('content-area');
                
                switch(moduleName) {
                    case 'recepcion':
                        contentArea.innerHTML = this.getRecepcionHTML();
                        break;
                    case 'distribucion':
                        contentArea.innerHTML = this.getDistribucionHTML();
                        break;
                    case 'supervision':
                        contentArea.innerHTML = this.getSupervisionHTML();
                        break;
                    default:
                        contentArea.innerHTML = '<div class="text-center py-8"><p class="text-gray-500">Módulo no encontrado</p></div>';
                }
            }

            getRecepcionHTML() {
                return `
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">Recepción Documental</h2>
                            <button onclick="showRecepcionModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                                <i class="fas fa-plus mr-2"></i>Nuevo Expediente
                            </button>
                        </div>
                        <p class="text-gray-600">Módulo de recepción documental funcionando correctamente.</p>
                    </div>

                    <!-- Modal de Recepción -->
                    <div id="recepcionModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900">Nuevo Expediente</h3>
                                    <button onclick="closeModal('recepcionModal')" class="text-gray-400 hover:text-gray-600">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <form onsubmit="submitForm(event, 'recepcionModal')">
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Documento</label>
                                        <select name="tipo" required class="w-full p-2 border border-gray-300 rounded-lg">
                                            <option value="">Seleccionar...</option>
                                            <option value="Lista de Inspecciones">Lista de Inspecciones</option>
                                            <option value="Memoria OC/SGP">Memoria OC/SGP</option>
                                        </select>
                                    </div>
                                    <div class="flex justify-end space-x-3">
                                        <button type="button" onclick="closeModal('recepcionModal')" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg">
                                            Cancelar
                                        </button>
                                        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg">
                                            Registrar
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                `;
            }       
     getDistribucionHTML() {
                return `
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">Distribución de Expedientes</h2>
                            <button onclick="showDistribucionModal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                                <i class="fas fa-share-alt mr-2"></i>Nueva Distribución
                            </button>
                        </div>
                        <p class="text-gray-600">Módulo de distribución funcionando correctamente.</p>
                    </div>

                    <!-- Modal de Distribución -->
                    <div id="distribucionModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900">Nueva Distribución</h3>
                                    <button onclick="closeModal('distribucionModal')" class="text-gray-400 hover:text-gray-600">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <form onsubmit="submitForm(event, 'distribucionModal')">
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Expediente</label>
                                        <select name="expediente" required class="w-full p-2 border border-gray-300 rounded-lg">
                                            <option value="">Seleccionar...</option>
                                            <option value="EXP-001">EXP-001 - Lista de Inspecciones</option>
                                            <option value="EXP-002">EXP-002 - Memoria OC/SGP</option>
                                        </select>
                                    </div>
                                    <div class="flex justify-end space-x-3">
                                        <button type="button" onclick="closeModal('distribucionModal')" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg">
                                            Cancelar
                                        </button>
                                        <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-lg">
                                            Distribuir
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                `;
            }

            getSupervisionHTML() {
                return `
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">Supervisión de Inspecciones</h2>
                            <button onclick="showSupervisionModal()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg">
                                <i class="fas fa-eye mr-2"></i>Nueva Supervisión
                            </button>
                        </div>
                        <p class="text-gray-600">Módulo de supervisión funcionando correctamente.</p>
                    </div>

                    <!-- Modal de Supervisión -->
                    <div id="supervisionModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900">Nueva Supervisión</h3>
                                    <button onclick="closeModal('supervisionModal')" class="text-gray-400 hover:text-gray-600">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <form onsubmit="submitForm(event, 'supervisionModal')">
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Supervisión</label>
                                        <select name="tipo" required class="w-full p-2 border border-gray-300 rounded-lg">
                                            <option value="">Seleccionar...</option>
                                            <option value="Programada">Programada</option>
                                            <option value="Extraordinaria">Extraordinaria</option>
                                        </select>
                                    </div>
                                    <div class="flex justify-end space-x-3">
                                        <button type="button" onclick="closeModal('supervisionModal')" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg">
                                            Cancelar
                                        </button>
                                        <button type="submit" class="px-4 py-2 bg-purple-600 text-white rounded-lg">
                                            Programar
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                `;
            }

            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                }
            }

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            }
        }    
    // Global variables and functions
        let app;

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing SICPO app...');
            app = new SICPOApp();
            window.app = app;
            console.log('SICPO app initialized successfully');
        });

        // Global functions for HTML onclick events
        function showModule(moduleName) {
            if (app && app.showModule) {
                app.showModule(moduleName);
            } else {
                console.error('App not initialized');
            }
        }

        function showRecepcionModal() {
            if (app && app.openModal) {
                app.openModal('recepcionModal');
            }
        }

        function showDistribucionModal() {
            if (app && app.openModal) {
                app.openModal('distribucionModal');
            }
        }

        function showSupervisionModal() {
            if (app && app.openModal) {
                app.openModal('supervisionModal');
            }
        }

        function closeModal(modalId) {
            if (app && app.closeModal) {
                app.closeModal(modalId);
            }
        }

        function submitForm(event, modalId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);
            
            console.log('Form data:', data);
            alert('Formulario enviado exitosamente');
            
            closeModal(modalId);
            event.target.reset();
        }
    </script>
</body>
</html>