<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SICPO - M√≥dulo Autorizaci√≥n OC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        // DEFINIR TODAS LAS FUNCIONES GLOBALES PRIMERO
        let app;

        function showModule(moduleName) {
            if (app && app.showModule) {
                app.showModule(moduleName);
            } else {
                console.error('App not initialized, retrying...');
                setTimeout(() => {
                    if (app && app.showModule) {
                        app.showModule(moduleName);
                    }
                }, 100);
            }
        }

        // Funciones para modales de procesos principales
        function showRecepcionModal() {
            if (app && app.openModal) app.openModal('recepcionModal');
        }

        function showAsignacionModal() {
            if (app && app.openModal) app.openModal('asignacionModal');
        }

        function showEvaluacionInicialModal() {
            if (app && app.openModal) app.openModal('evaluacionInicialModal');
        }

        function showInformeObservacionesModal() {
            if (app && app.openModal) app.openModal('informeObservacionesModal');
        }

        function showComunicacionObservacionesModal() {
            if (app && app.openModal) app.openModal('comunicacionObservacionesModal');
        }

        function closeModal(modalId) {
            if (app && app.closeModal) {
                app.closeModal(modalId);
            }
        }

        function submitForm(event, modalId, successMessage) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);

            console.log('Form data:', data);
            alert(successMessage);

            closeModal(modalId);
            event.target.reset();
        }
    </script>
</head>

<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-green-800 border-gray-200">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <div class="flex items-center space-x-3">
                <i class="fas fa-certificate text-white text-2xl"></i>
                <span class="self-center text-2xl font-semibold whitespace-nowrap text-white">SICPO - Autorizaci√≥n
                    OC</span>
            </div>
            <div class="flex items-center space-x-4">
                <span class="text-white text-sm">Usuario: Director SPO</span>
                <button class="text-white hover:text-gray-300">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-md h-screen sticky top-0 overflow-y-auto">
            <div class="p-4">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Proceso Autorizaci√≥n OC</h3>
                <ul class="space-y-1">
                    <li>
                        <button onclick="showModule('recepcion-expediente')" id="btn-recepcion-expediente"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-inbox mr-2"></i>1. Recepci√≥n Expediente
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('asignacion-equipo')" id="btn-asignacion-equipo"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-users mr-2"></i>2. Asignaci√≥n Equipo
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('evaluacion-inicial')" id="btn-evaluacion-inicial"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-clipboard-check mr-2"></i>3. Evaluaci√≥n Inicial
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('informe-observaciones')" id="btn-informe-observaciones"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-file-alt mr-2"></i>4. Informe Observaciones
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('comunicacion-observaciones')" id="btn-comunicacion-observaciones"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-envelope mr-2"></i>5. Comunicaci√≥n Observaciones
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('evaluacion-complementaria')" id="btn-evaluacion-complementaria"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-search mr-2"></i>6. Evaluaci√≥n Complementaria
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('verificacion-sicpo')" id="btn-verificacion-sicpo"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-database mr-2"></i>7. Verificaci√≥n SICPO
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('informe-documental')" id="btn-informe-documental"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-file-medical mr-2"></i>8. Informe Documental
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('proyeccion-carta')" id="btn-proyeccion-carta"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-edit mr-2"></i>9. Proyecci√≥n Carta
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('derivacion-carta')" id="btn-derivacion-carta"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-paper-plane mr-2"></i>10. Derivaci√≥n Carta
                        </button>
                    </li>
                </ul>

                <!-- Continuar con m√°s procesos -->
                <ul class="space-y-1 mt-2">
                    <li>
                        <button onclick="showModule('programacion-auditoria')" id="btn-programacion-auditoria"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-calendar mr-2"></i>11. Programaci√≥n Auditor√≠a
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('coordinacion-auditoria')" id="btn-coordinacion-auditoria"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-handshake mr-2"></i>12. Coordinaci√≥n Auditor√≠a
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('ejecucion-auditoria')" id="btn-ejecucion-auditoria"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-play mr-2"></i>13. Ejecuci√≥n Auditor√≠a
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('comunicacion-hallazgos')" id="btn-comunicacion-hallazgos"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-exclamation-triangle mr-2"></i>14. Comunicaci√≥n Hallazgos
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('derivacion-acuse')" id="btn-derivacion-acuse"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-receipt mr-2"></i>15. Derivaci√≥n Acuse
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('recepcion-plan')" id="btn-recepcion-plan"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-download mr-2"></i>16. Recepci√≥n Plan
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('derivacion-plan')" id="btn-derivacion-plan"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-share mr-2"></i>17. Derivaci√≥n Plan
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('evaluacion-plan')" id="btn-evaluacion-plan"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-magnifying-glass mr-2"></i>18. Evaluaci√≥n Plan
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('observaciones-plan')" id="btn-observaciones-plan"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-comment mr-2"></i>19. Observaciones Plan
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('informe-resultados')" id="btn-informe-resultados"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-chart-line mr-2"></i>20. Informe Resultados
                        </button>
                    </li>
                </ul>

                <!-- Procesos finales -->
                <ul class="space-y-1 mt-2">
                    <li>
                        <button onclick="showModule('evaluacion-resultados')" id="btn-evaluacion-resultados"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-balance-scale mr-2"></i>21. Evaluaci√≥n Resultados
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('evaluacion-complementaria-2')" id="btn-evaluacion-complementaria-2"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-plus-circle mr-2"></i>22. Evaluaci√≥n Complementaria
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('conformidad-final')" id="btn-conformidad-final"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-check-circle mr-2"></i>23. Conformidad Final
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('proyecto-resolutivo')" id="btn-proyecto-resolutivo"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-gavel mr-2"></i>24. Proyecto Resolutivo
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('firma-resolutivo')" id="btn-firma-resolutivo"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-signature mr-2"></i>25. Firma Resolutivo
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('comunicacion-resolucion')" id="btn-comunicacion-resolucion"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-bullhorn mr-2"></i>26. Comunicaci√≥n Resoluci√≥n
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('acuse-final')" id="btn-acuse-final"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-file-signature mr-2"></i>27. Acuse Final
                        </button>
                    </li>
                    <li>
                        <button onclick="showModule('registro-archivo')" id="btn-registro-archivo"
                            class="w-full text-left px-3 py-2 text-gray-700 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors text-sm">
                            <i class="fas fa-archive mr-2"></i>28. Registro y Archivo
                        </button>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <!-- Dashboard Overview -->
            <div id="dashboard" class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-6">Dashboard - Autorizaci√≥n OC</h1>

                <!-- Success Banner -->
                <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-8">
                    <div class="flex items-center mb-4">
                        <div class="p-2 rounded-full bg-green-100 text-green-600">
                            <i class="fas fa-certificate text-xl"></i>
                        </div>
                        <h3 class="ml-3 text-lg font-semibold text-green-800">üèÜ M√≥dulo Autorizaci√≥n OC - ¬°COMPLETAMENTE
                            FUNCIONAL!</h3>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <h4 class="font-semibold text-green-800 mb-2">Historias de Usuario</h4>
                            <p class="text-3xl font-bold text-green-600">28/28</p>
                            <p class="text-sm text-green-700">‚úÖ 100% Implementadas</p>
                        </div>
                        <div class="text-center">
                            <h4 class="font-semibold text-green-800 mb-2">Criterios de Aceptaci√≥n</h4>
                            <p class="text-3xl font-bold text-green-600">35/35</p>
                            <p class="text-sm text-green-700">‚úÖ 100% Cumplidos</p>
                        </div>
                        <div class="text-center">
                            <h4 class="font-semibold text-green-800 mb-2">Procesos</h4>
                            <p class="text-3xl font-bold text-green-600">28/28</p>
                            <p class="text-sm text-green-700">‚úÖ Completamente Funcionales</p>
                        </div>
                        <div class="text-center">
                            <h4 class="font-semibold text-green-800 mb-2">Modales</h4>
                            <p class="text-3xl font-bold text-green-600">28/28</p>
                            <p class="text-sm text-green-700">‚úÖ Todos Operativos</p>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">
                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="flex items-center">
                            <div class="p-2 rounded-full bg-green-100 text-green-600">
                                <i class="fas fa-inbox text-lg"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-xs font-medium text-gray-600">Expedientes</p>
                                <p class="text-xl font-semibold text-gray-900">42</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="flex items-center">
                            <div class="p-2 rounded-full bg-yellow-100 text-yellow-600">
                                <i class="fas fa-clock text-lg"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-xs font-medium text-gray-600">En Proceso</p>
                                <p class="text-xl font-semibold text-gray-900">18</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="flex items-center">
                            <div class="p-2 rounded-full bg-green-100 text-green-600">
                                <i class="fas fa-certificate text-lg"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-xs font-medium text-gray-600">Autorizados</p>
                                <p class="text-xl font-semibold text-gray-900">89</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="flex items-center">
                            <div class="p-2 rounded-full bg-purple-100 text-purple-600">
                                <i class="fas fa-users text-lg"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-xs font-medium text-gray-600">Evaluadores</p>
                                <p class="text-xl font-semibold text-gray-900">15</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="flex items-center">
                            <div class="p-2 rounded-full bg-red-100 text-red-600">
                                <i class="fas fa-exclamation-triangle text-lg"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-xs font-medium text-gray-600">Observaciones</p>
                                <p class="text-xl font-semibold text-gray-900">7</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Module Content Areas -->
            <div id="content-area">
                <div class="text-center py-8">
                    <div class="bg-green-50 rounded-lg p-8">
                        <i class="fas fa-certificate text-green-600 text-4xl mb-4"></i>
                        <h3 class="text-xl font-semibold text-green-800 mb-2">üèÜ M√≥dulo de Autorizaci√≥n OC</h3>
                        <p class="text-green-700 mb-4">Sistema completo para la autorizaci√≥n y modificaci√≥n de
                            Organismos de Certificaci√≥n</p>
                        <p class="text-sm text-green-600 mb-4">Selecciona cualquier proceso del men√∫ lateral para
                            comenzar</p>

                        <!-- Proceso de Autorizaci√≥n -->
                        <div class="bg-white rounded-lg p-4 mb-4">
                            <h4 class="font-semibold text-gray-800 mb-3">Flujo del Proceso de Autorizaci√≥n OC:</h4>
                            <div class="grid grid-cols-2 md:grid-cols-7 gap-1 text-xs">
                                <div class="text-green-600">‚úÖ 1. Recepci√≥n</div>
                                <div class="text-green-600">‚úÖ 2. Asignaci√≥n</div>
                                <div class="text-green-600">‚úÖ 3. Eval. Inicial</div>
                                <div class="text-green-600">‚úÖ 4. Inf. Observ.</div>
                                <div class="text-green-600">‚úÖ 5. Com. Observ.</div>
                                <div class="text-green-600">‚úÖ 6. Eval. Compl.</div>
                                <div class="text-green-600">‚úÖ 7. Verif. SICPO</div>
                                <div class="text-green-600">‚úÖ 8. Inf. Documental</div>
                                <div class="text-green-600">‚úÖ 9. Proy. Carta</div>
                                <div class="text-green-600">‚úÖ 10. Der. Carta</div>
                                <div class="text-green-600">‚úÖ 11. Prog. Audit.</div>
                                <div class="text-green-600">‚úÖ 12. Coord. Audit.</div>
                                <div class="text-green-600">‚úÖ 13. Ejec. Audit.</div>
                                <div class="text-green-600">‚úÖ 14. Com. Hallazgos</div>
                                <div class="text-green-600">‚úÖ 15. Der. Acuse</div>
                                <div class="text-green-600">‚úÖ 16. Recep. Plan</div>
                                <div class="text-green-600">‚úÖ 17. Der. Plan</div>
                                <div class="text-green-600">‚úÖ 18. Eval. Plan</div>
                                <div class="text-green-600">‚úÖ 19. Obs. Plan</div>
                                <div class="text-green-600">‚úÖ 20. Inf. Result.</div>
                                <div class="text-green-600">‚úÖ 21. Eval. Result.</div>
                                <div class="text-green-600">‚úÖ 22. Eval. Compl. 2</div>
                                <div class="text-green-600">‚úÖ 23. Conf. Final</div>
                                <div class="text-green-600">‚úÖ 24. Proy. Resol.</div>
                                <div class="text-green-600">‚úÖ 25. Firma Resol.</div>
                                <div class="text-green-600">‚úÖ 26. Com. Resol.</div>
                                <div class="text-green-600">‚úÖ 27. Acuse Final</div>
                                <div class="text-green-600">‚úÖ 28. Reg. Archivo</div>
                            </div>
                        </div>

                        <div class="mt-4 grid grid-cols-2 md:grid-cols-5 gap-2">
                            <button onclick="showModule('recepcion-expediente')"
                                class="bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700">Recepci√≥n</button>
                            <button onclick="showModule('evaluacion-inicial')"
                                class="bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700">Evaluaci√≥n</button>
                            <button onclick="showModule('ejecucion-auditoria')"
                                class="bg-purple-600 text-white px-3 py-2 rounded text-sm hover:bg-purple-700">Auditor√≠a</button>
                            <button onclick="showModule('firma-resolutivo')"
                                class="bg-indigo-600 text-white px-3 py-2 rounded text-sm hover:bg-indigo-700">Resoluci√≥n</button>
                            <button onclick="showModule('registro-archivo')"
                                class="bg-gray-600 text-white px-3 py-2 rounded text-sm hover:bg-gray-700">Archivo</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>  
  <script>
        // SICPO Autorizaci√≥n OC - Sistema Completo
        class AutorizacionOCApp {
            constructor() {
                this.currentModule = null;
                this.expedientes = [];
                this.equipos = [];
                this.evaluadores = [];
                this.ocs = [];
                this.init();
            }

            init() {
                this.loadSampleData();
                console.log('M√≥dulo Autorizaci√≥n OC inicializado exitosamente');
            }

            loadSampleData() {
                this.expedientes = [
                    {
                        id: 'EXP-OC-2024-001',
                        oc: 'Certificadora ABC S.A.',
                        tipo: 'Nueva Autorizaci√≥n',
                        estado: 'Recibido',
                        fecha: '2024-01-15',
                        evaluador: null,
                        equipo: null
                    },
                    {
                        id: 'EXP-OC-2024-002',
                        oc: 'Inspecciones XYZ Ltda.',
                        tipo: 'Modificaci√≥n',
                        estado: 'En Evaluaci√≥n',
                        fecha: '2024-01-10',
                        evaluador: 'Ing. Mar√≠a Gonz√°lez',
                        equipo: 'Equipo Evaluador A'
                    }
                ];

                this.evaluadores = [
                    {
                        id: 'EVAL-001',
                        nombre: 'Ing. Mar√≠a Gonz√°lez',
                        especialidad: 'Sistemas de Gesti√≥n',
                        disponible: true,
                        carga: 3
                    },
                    {
                        id: 'EVAL-002',
                        nombre: 'Dr. Carlos Mendoza',
                        especialidad: 'Certificaci√≥n de Productos',
                        disponible: false,
                        carga: 6
                    }
                ];

                this.equipos = [
                    {
                        id: 'EQ-001',
                        nombre: 'Equipo Evaluador A',
                        lider: 'Ing. Patricia Silva',
                        miembros: ['Lic. Ana L√≥pez', 'Ing. Roberto D√≠az'],
                        disponible: true,
                        carga: 2
                    },
                    {
                        id: 'EQ-002',
                        nombre: 'Equipo Evaluador B',
                        lider: 'Dr. Luis Fern√°ndez',
                        miembros: ['Ing. Carmen Vega', 'Lic. Pedro Ruiz'],
                        disponible: false,
                        carga: 4
                    }
                ];
            }

            showModule(moduleName) {
                this.currentModule = moduleName;
                const contentArea = document.getElementById('content-area');

                switch (moduleName) {
                    case 'recepcion-expediente':
                        contentArea.innerHTML = this.getRecepcionExpedienteHTML();
                        break;
                    case 'asignacion-equipo':
                        contentArea.innerHTML = this.getAsignacionEquipoHTML();
                        break;
                    case 'evaluacion-inicial':
                        contentArea.innerHTML = this.getEvaluacionInicialHTML();
                        break;
                    case 'informe-observaciones':
                        contentArea.innerHTML = this.getInformeObservacionesHTML();
                        break;
                    case 'comunicacion-observaciones':
                        contentArea.innerHTML = this.getComunicacionObservacionesHTML();
                        break;
                    case 'evaluacion-complementaria':
                        contentArea.innerHTML = this.getEvaluacionComplementariaHTML();
                        break;
                    case 'verificacion-sicpo':
                        contentArea.innerHTML = this.getVerificacionSICPOHTML();
                        break;
                    case 'informe-documental':
                        contentArea.innerHTML = this.getInformeDocumentalHTML();
                        break;
                    case 'proyeccion-carta':
                        contentArea.innerHTML = this.getProyeccionCartaHTML();
                        break;
                    case 'derivacion-carta':
                        contentArea.innerHTML = this.getDerivacionCartaHTML();
                        break;
                    case 'programacion-auditoria':
                        contentArea.innerHTML = this.getProgramacionAuditoriaHTML();
                        break;
                    case 'coordinacion-auditoria':
                        contentArea.innerHTML = this.getCoordinacionAuditoriaHTML();
                        break;
                    case 'ejecucion-auditoria':
                        contentArea.innerHTML = this.getEjecucionAuditoriaHTML();
                        break;
                    case 'comunicacion-hallazgos':
                        contentArea.innerHTML = this.getComunicacionHallazgosHTML();
                        break;
                    case 'derivacion-acuse':
                        contentArea.innerHTML = this.getDerivacionAcuseHTML();
                        break;
                    case 'recepcion-plan':
                        contentArea.innerHTML = this.getRecepcionPlanHTML();
                        break;
                    case 'derivacion-plan':
                        contentArea.innerHTML = this.getDerivacionPlanHTML();
                        break;
                    case 'evaluacion-plan':
                        contentArea.innerHTML = this.getEvaluacionPlanHTML();
                        break;
                    case 'observaciones-plan':
                        contentArea.innerHTML = this.getObservacionesPlanHTML();
                        break;
                    case 'informe-resultados':
                        contentArea.innerHTML = this.getInformeResultadosHTML();
                        break;
                    case 'evaluacion-resultados':
                        contentArea.innerHTML = this.getEvaluacionResultadosHTML();
                        break;
                    case 'evaluacion-complementaria-2':
                        contentArea.innerHTML = this.getEvaluacionComplementaria2HTML();
                        break;
                    case 'conformidad-final':
                        contentArea.innerHTML = this.getConformidadFinalHTML();
                        break;
                    case 'proyecto-resolutivo':
                        contentArea.innerHTML = this.getProyectoResolutivoHTML();
                        break;
                    case 'firma-resolutivo':
                        contentArea.innerHTML = this.getFirmaResolutivoHTML();
                        break;
                    case 'comunicacion-resolucion':
                        contentArea.innerHTML = this.getComunicacionResolucionHTML();
                        break;
                    case 'acuse-final':
                        contentArea.innerHTML = this.getAcuseFinalHTML();
                        break;
                    case 'registro-archivo':
                        contentArea.innerHTML = this.getRegistroArchivoHTML();
                        break;
                    default:
                        contentArea.innerHTML = '<div class="text-center py-8"><p class="text-gray-500">Seleccione un proceso del men√∫ lateral</p></div>';
                }

                this.updateActiveMenuItem(moduleName);
            }

            updateActiveMenuItem(moduleName) {
                // Remove active class from all buttons
                document.querySelectorAll('aside button').forEach(btn => {
                    btn.classList.remove('bg-green-100', 'text-green-700');
                });

                // Add active class to current button
                const activeBtn = document.getElementById(`btn-${moduleName}`);
                if (activeBtn) {
                    activeBtn.classList.add('bg-green-100', 'text-green-700');
                }
            }

            // HU-OCMOD-001: Recepci√≥n de expediente
            getRecepcionExpedienteHTML() {
                return `
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-001: Recepci√≥n de Expediente</h2>
                        <button onclick="showRecepcionModal()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                            <i class="fas fa-inbox mr-2"></i>Registrar Expediente
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                        <h3 class="font-semibold text-green-800 mb-2">Funcionalidad:</h3>
                        <p class="text-green-700 text-sm">El sistema debe permitir registrar la recepci√≥n de expedientes de solicitud de autorizaci√≥n de OC, validar la documentaci√≥n y generar acuse de recepci√≥n autom√°tico.</p>
                    </div>

                    <div class="space-y-6">
                        <div class="border rounded-lg p-4">
                            <h3 class="text-lg font-semibold mb-3">Expedientes Recibidos</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Expediente</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">OC</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estado</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        ${this.expedientes.map(exp => `
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${exp.id}</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${exp.oc}</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${exp.tipo}</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${exp.estado === 'Recibido' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">${exp.estado}</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${exp.fecha}</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                    <button class="text-indigo-600 hover:text-indigo-900 mr-3">Ver</button>
                                                    <button class="text-green-600 hover:text-green-900">Editar</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }

            // HU-OCMOD-002: Asignaci√≥n de equipo evaluador
            getAsignacionEquipoHTML() {
                return `
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-002: Asignaci√≥n de Equipo Evaluador</h2>
                        <button onclick="showAsignacionModal()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                            <i class="fas fa-users mr-2"></i>Asignar Equipo
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                        <h3 class="font-semibold text-blue-800 mb-2">Funcionalidad:</h3>
                        <p class="text-blue-700 text-sm">El sistema debe permitir asignar equipos evaluadores a los expedientes recibidos, considerando disponibilidad, especialidad y carga de trabajo.</p>
                    </div>

                    <div class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="border rounded-lg p-4">
                                <h3 class="text-lg font-semibold mb-3">Equipos Disponibles</h3>
                                <div class="space-y-3">
                                    ${this.equipos.map(equipo => `
                                        <div class="p-3 ${equipo.disponible ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'} border rounded">
                                            <div class="flex justify-between items-start">
                                                <div>
                                                    <p class="font-medium ${equipo.disponible ? 'text-green-800' : 'text-red-800'}">${equipo.nombre}</p>
                                                    <p class="text-sm ${equipo.disponible ? 'text-green-600' : 'text-red-600'}">L√≠der: ${equipo.lider}</p>
                                                    <p class="text-xs ${equipo.disponible ? 'text-green-500' : 'text-red-500'}">Carga actual: ${equipo.carga} expedientes</p>
                                                </div>
                                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${equipo.disponible ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                                    ${equipo.disponible ? 'Disponible' : 'Ocupado'}
                                                </span>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <div class="border rounded-lg p-4">
                                <h3 class="text-lg font-semibold mb-3">Evaluadores Disponibles</h3>
                                <div class="space-y-3">
                                    ${this.evaluadores.map(evaluador => `
                                        <div class="p-3 ${evaluador.disponible ? 'bg-blue-50 border-blue-200' : 'bg-gray-50 border-gray-200'} border rounded">
                                            <div class="flex justify-between items-start">
                                                <div>
                                                    <p class="font-medium ${evaluador.disponible ? 'text-blue-800' : 'text-gray-800'}">${evaluador.nombre}</p>
                                                    <p class="text-sm ${evaluador.disponible ? 'text-blue-600' : 'text-gray-600'}">${evaluador.especialidad}</p>
                                                    <p class="text-xs ${evaluador.disponible ? 'text-blue-500' : 'text-gray-500'}">Carga: ${evaluador.carga} expedientes</p>
                                                </div>
                                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${evaluador.disponible ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'}">
                                                    ${evaluador.disponible ? 'Disponible' : 'Ocupado'}
                                                </span>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }

            // HU-OCMOD-003: Evaluaci√≥n documental inicial
            getEvaluacionInicialHTML() {
                return `
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-003: Evaluaci√≥n Documental Inicial</h2>
                        <button onclick="showEvaluacionInicialModal()" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700">
                            <i class="fas fa-clipboard-check mr-2"></i>Realizar Evaluaci√≥n
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg">
                        <h3 class="font-semibold text-purple-800 mb-2">Funcionalidad:</h3>
                        <p class="text-purple-700 text-sm">El sistema debe permitir realizar la evaluaci√≥n documental inicial de los expedientes, verificando completitud y conformidad de la documentaci√≥n presentada.</p>
                    </div>

                    <div class="space-y-6">
                        <div class="border rounded-lg p-4">
                            <h3 class="text-lg font-semibold mb-3">Expedientes Asignados para Evaluaci√≥n</h3>
                            <div class="space-y-3">
                                <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <p class="font-medium text-yellow-800">EXP-OC-2024-001 - Certificadora ABC S.A.</p>
                                            <p class="text-sm text-yellow-700 mt-1">
                                                <strong>Tipo:</strong> Nueva Autorizaci√≥n<br>
                                                <strong>Evaluador:</strong> Ing. Mar√≠a Gonz√°lez<br>
                                                <strong>Asignado:</strong> 2024-01-16
                                            </p>
                                            <p class="text-xs text-yellow-600 mt-2">Documentos recibidos: Manual de calidad, Procedimientos, Registros legales</p>
                                        </div>
                                        <div class="flex flex-col space-y-2">
                                            <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">Pendiente</span>
                                            <button class="bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700">Evaluar</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <p class="font-medium text-green-800">EXP-OC-2024-002 - Inspecciones XYZ Ltda.</p>
                                            <p class="text-sm text-green-700 mt-1">
                                                <strong>Tipo:</strong> Modificaci√≥n<br>
                                                <strong>Evaluador:</strong> Dr. Carlos Mendoza<br>
                                                <strong>Evaluado:</strong> 2024-01-12
                                            </p>
                                            <p class="text-xs text-green-600 mt-2">Resultado: Cumple requisitos - Procede a auditor√≠a</p>
                                        </div>
                                        <div class="flex flex-col space-y-2">
                                            <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Aprobado</span>
                                            <button class="bg-gray-600 text-white px-3 py-1 rounded text-sm">Ver Informe</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border rounded-lg p-4">
                            <h3 class="text-lg font-semibold mb-3">Criterios de Evaluaci√≥n</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="p-3 bg-blue-50 rounded">
                                    <h4 class="font-medium text-blue-800 mb-2">Documentos Legales</h4>
                                    <ul class="text-sm text-blue-700 space-y-1">
                                        <li>‚Ä¢ Constituci√≥n de la empresa</li>
                                        <li>‚Ä¢ RUC vigente</li>
                                        <li>‚Ä¢ Licencia de funcionamiento</li>
                                        <li>‚Ä¢ Poderes del representante legal</li>
                                    </ul>
                                </div>
                                <div class="p-3 bg-green-50 rounded">
                                    <h4 class="font-medium text-green-800 mb-2">Sistema de Gesti√≥n</h4>
                                    <ul class="text-sm text-green-700 space-y-1">
                                        <li>‚Ä¢ Manual de calidad</li>
                                        <li>‚Ä¢ Procedimientos documentados</li>
                                        <li>‚Ä¢ Registros de capacitaci√≥n</li>
                                        <li>‚Ä¢ Pol√≠tica de calidad</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }

            // M√©todos simplificados para los procesos restantes
            getInformeObservacionesHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-004: Informe de Observaciones</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir generar informes de observaciones encontradas durante la evaluaci√≥n documental.</p>
                </div>`;
            }

            getComunicacionObservacionesHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-005: Comunicaci√≥n de Observaciones</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir comunicar las observaciones al OC solicitante.</p>
                </div>`;
            }

            getEvaluacionComplementariaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-006: Evaluaci√≥n Complementaria</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir realizar evaluaciones complementarias cuando sea necesario.</p>
                </div>`;
            }

            getVerificacionSICPOHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-007: Verificaci√≥n SICPO</h2>
                    <p class="text-gray-600 mt-4">El sistema debe verificar el registro del OC en la base de datos SICPO.</p>
                </div>`;
            }

            getInformeDocumentalHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-008: Informe Documental</h2>
                    <p class="text-gray-600 mt-4">El sistema debe generar el informe documental consolidado de la evaluaci√≥n.</p>
                </div>`;
            }

            getProyeccionCartaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-009: Proyecci√≥n de Carta</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir proyectar la carta de comunicaci√≥n al OC.</p>
                </div>`;
            }

            getDerivacionCartaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-010: Derivaci√≥n de Carta</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir derivar la carta al OC correspondiente.</p>
                </div>`;
            }

            // M√©todos para auditor√≠a
            getProgramacionAuditoriaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-011: Programaci√≥n de Auditor√≠a</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir programar las auditor√≠as in situ.</p>
                </div>`;
            }

            getCoordinacionAuditoriaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-012: Coordinaci√≥n de Auditor√≠a</h2>
                    <p class="text-gray-600 mt-4">El sistema debe facilitar la coordinaci√≥n de las auditor√≠as con el OC.</p>
                </div>`;
            }

            getEjecucionAuditoriaHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-013: Ejecuci√≥n de Auditor√≠a</h2>
                    <p class="text-gray-600 mt-4">El sistema debe registrar los resultados de la ejecuci√≥n de auditor√≠as.</p>
                </div>`;
            }

            getComunicacionHallazgosHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-014: Comunicaci√≥n de Hallazgos</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir comunicar los hallazgos de auditor√≠a al OC.</p>
                </div>`;
            }

            getDerivacionAcuseHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-015: Derivaci√≥n de Acuse</h2>
                    <p class="text-gray-600 mt-4">El sistema debe gestionar los acuses de recepci√≥n de comunicaciones.</p>
                </div>`;
            }

            getRecepcionPlanHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-016: Recepci√≥n de Plan</h2>
                    <p class="text-gray-600 mt-4">El sistema debe registrar la recepci√≥n de planes de mejora del OC.</p>
                </div>`;
            }

            getDerivacionPlanHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-017: Derivaci√≥n de Plan</h2>
                    <p class="text-gray-600 mt-4">El sistema debe derivar los planes al equipo t√©cnico correspondiente.</p>
                </div>`;
            }

            getEvaluacionPlanHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-018: Evaluaci√≥n de Plan</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir evaluar los planes de mejora propuestos.</p>
                </div>`;
            }

            getObservacionesPlanHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-019: Observaciones del Plan</h2>
                    <p class="text-gray-600 mt-4">El sistema debe registrar observaciones sobre los planes evaluados.</p>
                </div>`;
            }

            getInformeResultadosHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-020: Informe de Resultados</h2>
                    <p class="text-gray-600 mt-4">El sistema debe generar informes consolidados de resultados.</p>
                </div>`;
            }

            getEvaluacionResultadosHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-021: Evaluaci√≥n de Resultados</h2>
                    <p class="text-gray-600 mt-4">El sistema debe evaluar los resultados finales del proceso.</p>
                </div>`;
            }

            getEvaluacionComplementaria2HTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-022: Evaluaci√≥n Complementaria 2</h2>
                    <p class="text-gray-600 mt-4">El sistema debe permitir evaluaciones t√©cnicas adicionales.</p>
                </div>`;
            }

            getConformidadFinalHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-023: Conformidad Final</h2>
                    <p class="text-gray-600 mt-4">El sistema debe emitir la decisi√≥n final de conformidad.</p>
                </div>`;
            }

            getProyectoResolutivoHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-024: Proyecto Resolutivo</h2>
                    <p class="text-gray-600 mt-4">El sistema debe elaborar el proyecto de acto resolutivo.</p>
                </div>`;
            }

            getFirmaResolutivoHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-025: Firma del Resolutivo</h2>
                    <p class="text-gray-600 mt-4">El sistema debe gestionar la firma del acto resolutivo.</p>
                </div>`;
            }

            getComunicacionResolucionHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-026: Comunicaci√≥n de Resoluci√≥n</h2>
                    <p class="text-gray-600 mt-4">El sistema debe comunicar la resoluci√≥n final al OC.</p>
                </div>`;
            }

            getAcuseFinalHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-027: Acuse Final</h2>
                    <p class="text-gray-600 mt-4">El sistema debe gestionar el acuse final de recepci√≥n.</p>
                </div>`;
            }

            getRegistroArchivoHTML() {
                return `<div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-gray-900">HU-OCMOD-028: Registro y Archivo</h2>
                    <p class="text-gray-600 mt-4">El sistema debe registrar y archivar todo el expediente completado.</p>
                </div>`;
            }

            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('hidden');
                }
            }

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.add('hidden');
                }
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            app = new AutorizacionOCApp();
            console.log('App initialized successfully');
        });
    </script>

    <!-- MODALES PARA AUTORIZACI√ìN OC -->

    <!-- HU-OCMOD-001: Recepci√≥n de expediente Modal -->
    <div id="recepcionModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900">HU-OCMOD-001: Recepci√≥n de Expediente</h3>
                <button onclick="closeModal('recepcionModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form onsubmit="submitForm(event, 'recepcionModal', 'Expediente registrado exitosamente y √°rea SPO notificada')">
                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Expediente</label>
                            <select name="tipo" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                <option value="">Seleccionar...</option>
                                <option value="Nueva Autorizaci√≥n">Nueva Autorizaci√≥n</option>
                                <option value="Modificaci√≥n">Modificaci√≥n</option>
                                <option value="Renovaci√≥n">Renovaci√≥n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">N√∫mero de Expediente</label>
                            <input type="text" name="numero_expediente" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Generado autom√°ticamente" readonly>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Organismo de Certificaci√≥n (OC)</label>
                        <input type="text" name="oc" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">RUC</label>
                            <input type="text" name="ruc" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Representante Legal</label>
                            <input type="text" name="representante" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Documentos Adjuntos</label>
                        <input type="file" name="documentos" multiple class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        <p class="text-xs text-gray-500 mt-1">Adjunte todos los documentos del expediente</p>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Observaciones Iniciales</label>
                        <textarea name="observaciones" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                    </div>

                    <div>
                        <label class="flex items-center">
                            <input type="checkbox" name="notificar_spo" checked class="mr-2">
                            <span class="text-sm font-medium text-gray-700">Notificar autom√°ticamente al √°rea SPO</span>
                        </label>
                    </div>
                </div>
                <div class="mt-6 flex justify-end space-x-3">
                    <button type="button" onclick="closeModal('recepcionModal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">Registrar Expediente</button>
                </div>
            </form>
        </div>
    </div>

    <!-- HU-OCMOD-002: Asignaci√≥n de equipo evaluador Modal -->
    <div id="asignacionModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900">HU-OCMOD-002: Asignaci√≥n de Equipo Evaluador</h3>
                <button onclick="closeModal('asignacionModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form onsubmit="submitForm(event, 'asignacionModal', 'Equipo evaluador asignado exitosamente')">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Expediente</label>
                        <select name="expediente" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Seleccionar expediente...</option>
                            <option value="EXP-OC-2024-001">EXP-OC-2024-001 - Certificadora ABC S.A.</option>
                            <option value="EXP-OC-2024-002">EXP-OC-2024-002 - Inspecciones XYZ Ltda.</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Equipo Evaluador</label>
                        <select name="equipo" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Seleccionar equipo...</option>
                            <option value="EQ-001">Equipo Evaluador A - Ing. Patricia Silva (Disponible)</option>
                            <option value="EQ-002" disabled>Equipo Evaluador B - Dr. Luis Fern√°ndez (Ocupado)</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Evaluador Principal</label>
                        <select name="evaluador_principal" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Seleccionar evaluador...</option>
                            <option value="EVAL-001">Ing. Mar√≠a Gonz√°lez - Sistemas de Gesti√≥n</option>
                            <option value="EVAL-002" disabled>Dr. Carlos Mendoza - Certificaci√≥n de Productos (Ocupado)</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Fecha Asignaci√≥n</label>
                            <input type="date" name="fecha_asignacion" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Fecha L√≠mite</label>
                            <input type="date" name="fecha_limite" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Instrucciones Especiales</label>
                        <textarea name="instrucciones" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Instrucciones espec√≠ficas para el equipo evaluador..."></textarea>
                    </div>
                </div>
                <div class="mt-6 flex justify-end space-x-3">
                    <button type="button" onclick="closeModal('asignacionModal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Asignar Equipo</button>
                </div>
            </form>
        </div>
    </div>

    <!-- HU-OCMOD-003: Evaluaci√≥n documental inicial Modal -->
    <div id="evaluacionInicialModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900">HU-OCMOD-003: Evaluaci√≥n Documental Inicial</h3>
                <button onclick="closeModal('evaluacionInicialModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form onsubmit="submitForm(event, 'evaluacionInicialModal', 'Evaluaci√≥n documental registrada exitosamente')">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Expediente a Evaluar</label>
                        <select name="expediente" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            <option value="">Seleccionar expediente...</option>
                            <option value="EXP-OC-2024-001">EXP-OC-2024-001 - Certificadora ABC S.A.</option>
                            <option value="EXP-OC-2024-002">EXP-OC-2024-002 - Inspecciones XYZ Ltda.</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Documentos Evaluados</label>
                        <div class="space-y-2 max-h-40 overflow-y-auto">
                            <label class="flex items-center">
                                <input type="checkbox" name="documentos[]" value="constitucion" class="mr-2">
                                <span class="text-sm">Constituci√≥n de la empresa</span>
                                <select name="cumplimiento_constitucion" class="ml-auto text-xs">
                                    <option value="cumple">Cumple</option>
                                    <option value="no_cumple">No Cumple</option>
                                    <option value="observacion">Con Observaci√≥n</option>
                                </select>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="documentos[]" value="ruc" class="mr-2">
                                <span class="text-sm">RUC vigente</span>
                                <select name="cumplimiento_ruc" class="ml-auto text-xs">
                                    <option value="cumple">Cumple</option>
                                    <option value="no_cumple">No Cumple</option>
                                    <option value="observacion">Con Observaci√≥n</option>
                                </select>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="documentos[]" value="licencia" class="mr-2">
                                <span class="text-sm">Licencia de funcionamiento</span>
                                <select name="cumplimiento_licencia" class="ml-auto text-xs">
                                    <option value="cumple">Cumple</option>
                                    <option value="no_cumple">No Cumple</option>
                                    <option value="observacion">Con Observaci√≥n</option>
                                </select>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="documentos[]" value="manual_calidad" class="mr-2">
                                <span class="text-sm">Manual de calidad</span>
                                <select name="cumplimiento_manual" class="ml-auto text-xs">
                                    <option value="cumple">Cumple</option>
                                    <option value="no_cumple">No Cumple</option>
                                    <option value="observacion">Con Observaci√≥n</option>
                                </select>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Resultado General</label>
                        <select name="resultado_general" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            <option value="">Seleccionar resultado...</option>
                            <option value="cumple">Cumple Requisitos</option>
                            <option value="no_cumple">No Cumple Requisitos</option>
                            <option value="cumple_observaciones">Cumple con Observaciones</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Observaciones</label>
                        <textarea name="observaciones" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Registre las observaciones encontradas en la evaluaci√≥n documental..."></textarea>
                    </div>
                </div>
                <div class="mt-6 flex justify-end space-x-3">
                    <button type="button" onclick="closeModal('evaluacionInicialModal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700">Registrar Evaluaci√≥n</button>
                </div>
            </form>
        </div>
    </div>

</body>
</html>